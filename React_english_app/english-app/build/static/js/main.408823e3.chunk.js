(this["webpackJsonpenglish-app"]=this["webpackJsonpenglish-app"]||[]).push([[0],{33:function(e,t,r){},34:function(e,t,r){},41:function(e,t,r){"use strict";r.r(t);var n=r(0),c=r(1),a=r.n(c),s=r(21),i=r.n(s),o=(r(33),r(4)),l=r(8),d=r(2),j=(r(34),r.p+"static/media/book6.659b0f89.png"),b=function(e){return Object(n.jsxs)("div",{className:"logo-container",children:[Object(n.jsx)("img",{src:j,alt:"books"}),Object(n.jsxs)("span",{className:"level-title",children:["LEVEL ",e.level]})]})},u=function(e){var t=e.level;return Object(n.jsxs)("nav",{className:"nav",children:[Object(n.jsx)(b,{level:t}),Object(n.jsxs)("ul",{className:"nav-container",children:[Object(n.jsx)(l.b,{to:"/library",children:"Library"}),Object(n.jsx)(l.b,{to:"/training",children:"Training"}),Object(n.jsx)(l.b,{to:"/learn",children:"Learn"})]})]})},h=function(e){return Object(n.jsx)("div",{className:"score",children:Object(n.jsxs)("span",{children:["Score: ",e.score," "]})})},O=r(26),m=r(10),v=r.n(m),x=r(15),p=r(23),f=r(24),g=r(11),w=r(27),N=r(25),y=function(e){Object(w.a)(r,e);var t=Object(N.a)(r);function r(e){var n;return Object(p.a)(this,r),(n=t.call(this,e)).state={isOpen:!0,translation:"",value:"",library:JSON.parse(localStorage.getItem("library"))||[{id:0,word:"\u041f\u0440\u0438\u043c\u0435\u0440",translate:"example"}]},n.wordsRef=Array(n.state.library.length),n.changeMode=n.changeMode.bind(Object(g.a)(n)),n.getValue=n.getValue.bind(Object(g.a)(n)),n.addWordToLibrary=n.addWordToLibrary.bind(Object(g.a)(n)),n}return Object(f.a)(r,[{key:"componentDidMount",value:function(){var e=this;document.addEventListener("keydown",(function(t){console.log(e.state.isOpen),e.state.value.length>0&&"Enter"===t.key&&e.addWordToLibrary()}))}},{key:"changeMode",value:function(){this.setState((function(e){return{isOpen:!e.isOpen}})),console.log(this.state.isOpen)}},{key:"removeWordFromLibrary",value:function(){var e=Object(x.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,this.setState((function(e){return{library:e.library.filter((function(e,r){return r!==t}))}}));case 3:return console.log(this.state.library),e.next=6,localStorage.setItem("library",JSON.stringify(this.state.library));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addWordToLibrary",value:function(){var e=Object(x.a)(v.a.mark((function e(){var t,r,n=this;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("http://tmp.myitschool.org/API/translate/?source=ru&target=en&word=".concat(this.state.value));case 3:return t=e.sent,e.next=6,t.json();case 6:if(r=e.sent,console.log(r),!r){e.next=11;break}return e.next=11,this.setState((function(){return{translation:r.translate}}));case 11:return e.next=13,this.setState((function(e){return{library:[].concat(Object(O.a)(e.library),[{id:n.state.library.length,word:n.state.value,translate:n.state.translation,correct:0,learn:0,error:0}])}}));case 13:return e.next=15,localStorage.setItem("library",JSON.stringify(this.state.library));case 15:return e.next=17,this.changeMode();case 17:return e.next=19,this.setState((function(){return{translation:""}}));case 19:e.next=24;break;case 21:e.prev=21,e.t0=e.catch(0),console.log(e.t0);case 24:case"end":return e.stop()}}),e,this,[[0,21]])})));return function(){return e.apply(this,arguments)}}()},{key:"getValue",value:function(){var e=Object(x.a)(v.a.mark((function e(t){var r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.target.value,this.setState((function(){return{value:r}}));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(n.jsxs)("div",{className:"library",children:[Object(n.jsxs)("div",{className:"add-word-container",children:[this.state.isOpen?Object(n.jsx)("span",{className:"label-title",children:"Add new word"}):Object(n.jsxs)("div",{children:[Object(n.jsx)("input",{onChange:this.getValue,placeholder:"Enter New Word"}),Object(n.jsx)("span",{children:this.state.translation}),Object(n.jsx)("button",{onClick:this.addWordToLibrary,className:"btn-round check"})]}),Object(n.jsx)("button",{onClick:this.changeMode,className:this.state.isOpen?"btn-round add":"btn-round close"})]}),Object(n.jsxs)("div",{className:"library-container",children:[Object(n.jsxs)("div",{className:"library-header",children:[Object(n.jsx)("div",{className:"col-name",children:"Word"}),Object(n.jsx)("div",{className:"col-name",children:"Translate"}),Object(n.jsx)("div",{className:"col-name",children:"Learn level"})]}),this.state.library.map((function(t,r){return Object(n.jsxs)("div",{className:"word-content",children:[Object(n.jsx)("div",{children:t.id}),Object(n.jsx)("div",{children:t.word}),Object(n.jsx)("div",{children:t.translate}),Object(n.jsx)("div",{className:"delete-btn",onClick:function(){return e.removeWordFromLibrary(r)}})]},r)}))]})]})}}]),r}(a.a.Component),S=function(e){var t="mode-container "+e.modeClassName;return Object(n.jsx)(l.b,{to:"/training/".concat(e.path),children:Object(n.jsxs)("div",{className:t,children:[Object(n.jsxs)("div",{className:"mode-title-wrapper",children:[Object(n.jsx)("h2",{className:"mode-title",children:e.modeTitle}),Object(n.jsx)("p",{className:"mode-description",children:e.modeDescription})]}),Object(n.jsx)("div",{children:Object(n.jsx)("img",{className:"mode-img",src:e.img})})]})})},k=r.p+"static/media/image1.ea3422fe.png",C=r.p+"static/media/image2.b3de6b20.png",L=function(){var e=["easy-mode","hard-mode"],t=["Easy Mode","Hard Mode"],r=["Check words Mode","Write words Mode"],a=["check-mode","write-mode"];return Object(c.useEffect)((function(){return function(){}})),Object(n.jsxs)("div",{className:"mode-page",children:[Object(n.jsx)(S,{modeClassName:e[0],modeTitle:r[0],modeDescription:t[0],path:a[0],img:k}),Object(n.jsx)(S,{modeClassName:e[1],modeTitle:r[1],modeDescription:t[1],path:a[1],img:C})]})},A=function(e){var t=e.checkLevel,r=e.score,a=e.setScore,s=JSON.parse(localStorage.getItem("library")||[{id:0,word:"",translate:""}]),i=Object(c.useState)(1),l=Object(o.a)(i,2),d=l[0],j=l[1],b=s[d],u=Object(c.useState)(!1),h=Object(o.a)(u,2),O=h[0],m=h[1];return Object(n.jsxs)("div",{className:"learn-wrapper",children:[Object(n.jsxs)("div",{className:"learn-container",children:[O?null:Object(n.jsxs)("div",{className:"percentage",children:[Math.floor((b.learn+b.correct-b.error)/2),"%"]}),Object(n.jsx)("div",{className:"word-translation",children:O?"Well done!":b.translate}),O?null:Object(n.jsxs)("div",{className:"word-container",children:[Object(n.jsx)("span",{className:"word-label",children:"Translation"}),Object(n.jsx)("span",{className:"word",children:b.word})]})]}),O?Object(n.jsx)("div",{onClick:function(){m(!1),j(1)},className:"btn-repeat",children:"\u27f3"}):Object(n.jsx)("div",{onClick:function(){s.length-1!==d?(j(d+1),a(r+.5),t(),s[d].learn=s[d].learn+1,localStorage.setItem("library",JSON.stringify(s))):m(!0)},className:"btn-next",children:"\u2192"})]})},E=a.a.createContext(),I=function(e){var t=Object(c.useContext)(E),r=Object(c.useState)(0),a=Object(o.a)(r,2),s=a[0],i=a[1],l=Object(c.useState)(JSON.parse(localStorage.getItem("library"))||[{id:0,word:"",translate:""},{id:0,word:"",translate:""},{id:0,word:"",translate:""}]),d=Object(o.a)(l,2),j=d[0],b=(d[1],Object(c.useState)([])),u=Object(o.a)(b,2),h=u[0],O=u[1],m=j[s].translate;return Object(c.useEffect)((function(){var e=j.filter((function(e,t){return t!==s}));e.sort((function(){return Math.random()-.5}));var t=[e[0].word,e[1].word,j[s].word];O(t.sort((function(){return Math.random()-.5})))}),[e.correctAnswer]),Object(c.useEffect)((function(){localStorage.setItem("score",t.score)}),[t.score]),Object(n.jsxs)("div",{class:"check-mode-container",children:[Object(n.jsx)("div",{className:"mode-title-word",children:m}),Object(n.jsx)("div",{className:"mode-title-word-descr",children:"Set translation for this Word"}),Object(n.jsx)("div",{className:"check-items",children:h.map((function(r,c){return Object(n.jsx)("div",{className:"check-item",onClick:function(){return n=r,void(j.length-1!==s?n===j[s].word?(e.setCorrectAnswer(e.correctAnswer+1),t.setScore(t.score+1),e.checkLevel(),i(s+1),j[s].correct=j[s].correct+1,localStorage.setItem("library",JSON.stringify(j))):(e.setErrorAnswer(e.errorAnswer+1),j[s].error=j[s].error+1,localStorage.setItem("library",JSON.stringify(j))):(alert("Game is over!"),e.setCorrectAnswer(0),e.setErrorAnswer(0),i(0)));var n},children:r},c)}))})]})},M=function(e){var t=Object(c.useRef)(),r=Object(c.useContext)(E),a=Object(c.useState)(JSON.parse(localStorage.getItem("library")).sort((function(){return Math.random()-.5}))||[{id:0,word:"",translate:""}]),s=Object(o.a)(a,2),i=s[0],l=s[1],d=Object(c.useState)(0),j=Object(o.a)(d,2),b=j[0],u=j[1];Object(c.useEffect)((function(){return function(){localStorage.setItem("score",r.score)}}));var h=function(){b<i.length-1?(t.current.value.toLowerCase()===i[b].translate.replace("the ","")?(u(b+1),e.setCorrectAnswer(e.correctAnswer+1),r.setScore(r.score+1),i[b].correct=i[b].correct+1,localStorage.setItem("library",JSON.stringify(i))):(e.setErrorAnswer(e.errorAnswer+1),i[b].error=i[b].error+1,localStorage.setItem("library",JSON.stringify(i))),t.current.value=""):(alert("Good job!"),t.current.value="",l(JSON.parse(localStorage.getItem("library")).sort((function(){return Math.random()-.5}))))};return Object(n.jsxs)("div",{class:"check-mode-container",children:[Object(n.jsx)("div",{className:"mode-title-word",children:i[b].word}),Object(n.jsx)("div",{className:"mode-title-word-descr",children:"Set translation for this Word"}),Object(n.jsxs)("div",{className:"custom-input-wrapper",children:[Object(n.jsx)("input",{onKeyPress:function(e){"Enter"===e.key&&h()},ref:t,id:"input-id",type:"text",className:"custom-input",placeholder:"Enter word"}),Object(n.jsx)("button",{className:"enter-btn",onClick:h,children:"Enter"})]})]})},J=function(e){var t=Object(d.e)(),r=Object(c.useState)(0),a=Object(o.a)(r,2),s=a[0],i=a[1],j=Object(c.useState)(0),b=Object(o.a)(j,2),u=b[0],h=b[1];return Object(n.jsxs)("div",{className:"game-page",children:[Object(n.jsx)(l.b,{to:"./trainng",children:Object(n.jsx)("button",{className:"btn-exit",children:"Exit"})}),Object(n.jsxs)("div",{className:"points-wrapper",children:[Object(n.jsxs)("span",{className:"correct-title",children:["Correct: ",s]}),Object(n.jsxs)("span",{className:"error-title",children:["Error: ",u]})]}),"/training/check-mode"===t.pathname?Object(n.jsx)(I,{correctAnswer:s,errorAnswer:u,setCorrectAnswer:i,setErrorAnswer:h,checkLevel:e.checkLevel}):"/training/write-mode"===t.pathname?Object(n.jsx)(M,{correctAnswer:s,errorAnswer:u,setCorrectAnswer:i,setErrorAnswer:h,checkLevel:e.checkLevel}):null]})},T=function(){return Object(n.jsx)("div",{className:"main-page",children:Object(n.jsx)("div",{children:Object(n.jsx)("h1",{children:"Let's learn English together!"})})})},W=function(){var e=function(){return Math.floor(.5+Math.sqrt(1+8*a/5)/2)-1},t=Object(c.useState)(+localStorage.getItem("score")||0),r=Object(o.a)(t,2),a=r[0],s=r[1],i=Object(c.useState)(e()),j=Object(o.a)(i,2),b=j[0],O=j[1],m=function(){O(e())};return Object(n.jsx)(l.a,{children:Object(n.jsx)(E.Provider,{value:{setScore:s,score:a},children:Object(n.jsxs)("div",{className:"app-wrapper",children:[Object(n.jsx)(u,{level:b}),Object(n.jsx)(T,{path:".",component:T}),Object(n.jsxs)("div",{className:"main-side-wrapper",children:[Object(n.jsx)(h,{score:a}),Object(n.jsx)(d.a,{path:"/library",component:y}),Object(n.jsx)(d.a,{path:"/training",component:L}),Object(n.jsx)(d.a,{path:"/learn",children:Object(n.jsx)(A,{checkLevel:m,setScore:s,score:a})}),Object(n.jsx)(d.a,{path:"/training/check-mode",children:Object(n.jsx)(J,{checkLevel:m})}),Object(n.jsx)(d.a,{path:"/training/write-mode",children:Object(n.jsx)(J,{checkLevel:m})})]})]})})})},F=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,42)).then((function(t){var r=t.getCLS,n=t.getFID,c=t.getFCP,a=t.getLCP,s=t.getTTFB;r(e),n(e),c(e),a(e),s(e)}))};i.a.render(Object(n.jsx)(a.a.StrictMode,{children:Object(n.jsx)(W,{})}),document.getElementById("root")),F()}},[[41,1,2]]]);
//# sourceMappingURL=main.408823e3.chunk.js.map